{% extends 'base.html' %}

{% block body %}
    {% for i in range(N) %}
        <button id="{{ contents[i] }}">Remove</button>
        <p>{{ contents[i] }}: {{ names[i] }}</p>
        <script>
        document.getElementById("{{ contents[i] }}").addEventListener("click", function() {
            const body = { filename: "{{ contents[i] }}"}
            fetch('/q/remove', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(body)
            })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch((error) => {
                console.error('Error:', error);
            });
        });
        </script>
    {% endfor %}
{% endblock %}